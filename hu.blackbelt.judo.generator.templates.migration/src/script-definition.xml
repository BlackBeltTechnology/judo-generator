<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE xml>
<scriptDefinition xmlns="https://rdbms.script.generator.judo.blackbelt.hu"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="./script-definition.xsd">

	<!-- Variables:
		- currentVersion - The current version which composited from project version and MD5 sum of the model.
		- previpusVersion - The previous version which is used to make delta model. The incremental version based on that.
		- dialect - The sql dialects. All variants are executed on all script
	-->


	<sql name = "create-table-full" scriptName="templates/sql/create-table-full.egl" out ="schema/sql/${currentVersion}/${dialect}/create-table-full.sql"/>
	<sql name = "create-foreignkey" scriptName="templates/sql/create-foreignkey.egl" out ="schema/sql/${currentVersion}/${dialect}/create-foreignkey.sql"/>
	<sql name = "create-not-null-constraint" scriptName="templates/sql/create-not-null-constraint.egl" out ="schema/sql/${currentVersion}/${dialect}/create-not-null-constraint.sql"/>
	<sql name = "create-unique-constraint" scriptName="templates/sql/create-unique-constraint.egl" out ="schema/sql/${currentVersion}/${dialect}/create-unique-constraint.sql"/>

	<!-- It runs when there is NO DB presented -->
	<changeset name = "changeset-full"  scriptName="templates/xml/changeset.egl" out="schema/${currentVersion}-${dialect}-schema-full.xml" >
		<change sql ="sql/${currentVersion}/${dialect}/create-table-full.sql"/>
		<change sql ="sql/${currentVersion}/${dialect}/create-foreignkey.sql"/>
		<change sql ="sql/${currentVersion}/${dialect}/create-not-null-constraint.sql"/>
		<change sql ="sql/${currentVersion}/${dialect}/create-unique-constraint.sql"/>
	</changeset>

</scriptDefinition>