<?xml version="1.0" encoding="UTF-8"?>
<project default="ecl">

	<property name="psm.meta.location" location="../../hu.blackbelt.judo.generator.meta.psm/model/psm.ecore" />
	<property name="psm.meta.uri" value="http://blackbelt.hu/judo/meta/psm" />
	
	<property name="psm.model.name" value="Source" />
	<property name="psm.model.file.name" value="OPM_PSM.model" />
	<property name="psm.model.location" location="../target/${psm.model.file.name}" />

	<property name="t.psm.model.name" value="Target" />
	<property name="t.psm.model.file.name" value="target.model" />
	<property name="t.psm.model.location" location="../target/${psm.model.file.name}" />

	<target name="loadModels">
		<epsilon.emf.register file="${psm.meta.location}" />
		<epsilon.emf.loadModel name="${psm.model.name}" modelfile="${psm.model.location}" metamodeluri="${psm.meta.uri}" read="true" store="false" expand="true" />
		<epsilon.emf.loadModel name="${t.psm.model.name}" modelfile="${t.psm.model.location}" metamodeluri="${psm.meta.uri}" read="true" store="false" expand="true" />
		<epsilon.emf.loadModel name="mt" modelfile="mt.model" read="false" store="true"/>
	</target>

	<target name="ecl" depends="loadModels">
		<epsilon.ecl src="compare.ecl">
			<exports ref="matchTrace"/>
			<model ref="${psm.model.name}" />
			<model ref="${t.psm.model.name}" />
		</epsilon.ecl>
	</target>

</project>